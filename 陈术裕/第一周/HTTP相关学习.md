HTTP学习

## 基础原理

http是一个应用层协议，由请求和响应，标准的客户端服务器模型。

通常承载于TCP协议上

是一个无状态的协议

客户端发起请求，服务器回送响应

HTTP包含的字段

### Host字段

作用：客户端发送请求时，用来指定服务器的域名

#### Content-Length

作用：服务器表明本次回应的数据长度

Connection 字段

作用：用于客户端要求服务器使用TCP持久连接，以便其他请求复用。

Content-Type

作用：告诉客户端本次服务器回应的数据是什么格式

Content-Encoding

作用：说明服务器返回的数据使用了什么压缩格式。

客户端在请求时，用Accept-Encoding字段说明自己可以接受哪些压缩方法

## HTTP八种请求方法

OPTIONS

返回服务器针对特定资源所支持的HTTP请求方法，也可利用web服务器发送*的请求来测试服务器的功能性

HEAD

向服务器索与GET请求相一致的响应，只不过响应体不会被返回。

GET

向特定资源发出请求

POST

向指定资源提交数据进行处理请求

PUT

向指定资源位置上传其最新内容

DELETE

请求服务器删除Request-URL所标识的资源

TRACE

回显服务器收到的请求，用于测试或诊断

CONNECT

HTTP/1.1协议中预留给能够将连接改为管道方式的代理服务器

## HTTP的响应状态码

1xx

属于提示信息，是协议处理中的一种中间状态，实际很少用

2xx

表示服务器成功处理客户端的请求

200 OK是最常⻅的成功状态码，表示⼀切正常。如果是⾮ HEAD 请求，服务器返回的响应头都会有 body 数据。

204 No Content也是常⻅的成功状态码，与 200OK 基本相同，但响应头没有 body 数据。

206 Partial Content是应⽤于 HTTP 分块下载或断点续传，表示响应返回的 body 数据并不是资源的全部，⽽是其中的⼀部分，也是服务器处理成功的状态

3xx

表示客户端请求的资源发生了变动，要重定向，使用新的URL

301 Moved Permanently表示永久定向，说明请求的资源已经不存在了，需改⽤新的 URL 再次访问。

302 Found表示临时定向，说明请求的资源还在，但暂时需要⽤另⼀个 URL 来访问。

301 和 302 都会在响应头⾥使⽤字段 Location ，指明后续要跳转的 URL，浏览器会⾃动᯿定向新的 URL。

304 Not Modified不具有跳转的含义，表示资源未修改，定向已存在的缓冲⽂件，也称缓存定向，⽤于缓存控制。

4xx

表示客户端发送的报文有误，服务器无法处理，也就是错误码的含义

1. 400 Bad Request表示客户端请求的报⽂有错误，但只是个笼统的错误。
2. 403 Forbidden表示服务器禁⽌访问资源，并不是客户端的请求出错。
3. 404 Not Found表示请求的资源在服务器上不存在或未找到，所以⽆法提供给客户端。

5xx

表示客户端请求报文正确，但服务器处理时内部发生了错误，属于服务器的错误码

500 Internal Server Error与 400 类型，是个笼统通⽤的错误码，服务器发⽣了什么错误，我们并不知道。

501 Not Implemented表示客户端请求的功能还不⽀持，类似“即将开业，敬请期待”的意思。

502 Bad Gateway通常是服务器作为⽹关或代理时返回的错误码，表示服务器⾃身⼯作正常，访问后端服务器 发⽣了错误。

503 Service Unavailable表示服务器当前很忙，暂时⽆法响应服务器，类似“⽹络服务正忙，请稍后在试”的意思

504 GetWay timeout 表示网关超时

505 HTTP version not support 表示的HTTP协议不支持。

## HTTP1.1特性

- 长链接
- 管道网络传输

## 常见的前端提交数据方式

1. Get方式

直接把请求的参数放在URL中

1. Post方式（application/x-www-form-urlencoded）

常用表单方式，在使用ajax提交数据时默认采用这种形式。

特点：将所有的数据变成键值对的形式存放在Request的Body中。不支持文件上传。

1. Post（multipart/form-data）

支持文件上传

1. Post json提交

在ajax提交时，在type上注明application/json。会把提交的信息变成json提交上去。

# Apifox

前后端分离架构

后端开发需要依据接口文档开发接口

流程

1. 定接口
2. 前端直接根据Apifoc去MOCK数据
3. 后端开发直接在上面调试
4. 测试人员直接在接口文档下面调试
5. 前后端联调

编写接口文档

1. 基本信息
2. params参数 url里面？后面的